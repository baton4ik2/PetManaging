# Pet Project - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–æ–º—Ü–∞–º–∏

Pet Project - —ç—Ç–æ REST API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–æ–º—Ü–∞–º–∏ –∏ –∏—Ö –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ Spring Boot.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend
- **Java 17**
- **Spring Boot 3.4.0**
- **Spring Data JPA**
- **PostgreSQL**
- **Liquibase** - –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **MapStruct** - –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –º–µ–∂–¥—É Entity –∏ DTO
- **Lombok** - –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è boilerplate –∫–æ–¥–∞
- **Swagger/OpenAPI** - –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API
- **Spring Validation** - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### Frontend
- **React 19** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Vite** - —Å–±–æ—Ä—â–∏–∫ –∏ dev —Å–µ—Ä–≤–µ—Ä
- **Tailwind CSS** - —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- **React Router** - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
petProject/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ru/akbirov/petproject/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ PetProjectApplication.java
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ controller/     # REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ service/        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ repository/     # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ entity/         # JPA —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ dto/            # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ mapper/         # MapStruct –º–∞–ø–ø–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ exception/      # –ò—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ application.yaml    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ db/
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ changelog/      # Liquibase –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ test/                       # –¢–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ pom.xml                         # Maven –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) üê≥

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
docker-compose up -d
```

–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–±–µ—Ä–µ—Ç Docker –æ–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ó–∞–ø—É—Å—Ç–∏—Ç PostgreSQL –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- –ó–∞–ø—É—Å—Ç–∏—Ç Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ù–∞—Å—Ç—Ä–æ–∏—Ç –≤—Å–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: [DOCKER.md](DOCKER.md)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL:
```sql
CREATE DATABASE pet_db;
```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ `application.yaml` –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/pet_db
    username: postgres
    password: postgres
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
export DATABASE_URL=jdbc:postgresql://localhost:5432/pet_db
export DATABASE_USERNAME=postgres
export DATABASE_PASSWORD=postgres
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
mvn spring-boot:run
```

–ò–ª–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
mvn clean package
java -jar target/pet-project-0.0.1-SNAPSHOT.jar
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8081`

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
- **Swagger UI**: http://localhost:8081/swagger-ui.html
- **OpenAPI JSON**: http://localhost:8081/v3/api-docs

## API Endpoints

### –í–ª–∞–¥–µ–ª—å—Ü—ã (Owners)

- `POST /api/owners` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞
- `GET /api/owners` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤
- `GET /api/owners/{id}` - –ü–æ–ª—É—á–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø–æ ID
- `PUT /api/owners/{id}` - –û–±–Ω–æ–≤–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞
- `DELETE /api/owners/{id}` - –£–¥–∞–ª–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞
- `GET /api/owners/{id}/pets` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–∏—Ç–æ–º—Ü–µ–≤ –≤–ª–∞–¥–µ–ª—å—Ü–∞

### –ü–∏—Ç–æ–º—Ü—ã (Pets)

- `POST /api/pets` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
- `GET /api/pets` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–∏—Ç–æ–º—Ü–µ–≤
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:
    - `type` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –ø–∏—Ç–æ–º—Ü–∞ (DOG, CAT, BIRD, FISH, RABBIT, HAMSTER, OTHER)
    - `ownerId` - —Ñ–∏–ª—å—Ç—Ä –ø–æ ID –≤–ª–∞–¥–µ–ª—å—Ü–∞
- `GET /api/pets/{id}` - –ü–æ–ª—É—á–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞ –ø–æ ID
- `PUT /api/pets/{id}` - –û–±–Ω–æ–≤–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞
- `DELETE /api/pets/{id}` - –£–¥–∞–ª–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞
```bash
curl -X POST http://localhost:8081/api/owners \
  -H "Content-Type: application/json" \
  -d '{
    "firstName": "–ò–≤–∞–Ω",
    "lastName": "–ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com",
    "phone": "+7-999-123-45-67",
    "address": "–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1"
  }'
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞
```bash
curl -X POST http://localhost:8081/api/pets \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–ë–∞—Ä—Å–∏–∫",
    "type": "CAT",
    "breed": "–ü–µ—Ä—Å–∏–¥—Å–∫–∞—è",
    "dateOfBirth": "2020-05-15",
    "color": "–ë–µ–ª—ã–π",
    "description": "–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∫–æ—Ç",
    "ownerId": 1
  }'
```

## –¢–∏–ø—ã –ø–∏—Ç–æ–º—Ü–µ–≤

- `DOG` - –°–æ–±–∞–∫–∞
- `CAT` - –ö–æ—à–∫–∞
- `BIRD` - –ü—Ç–∏—Ü–∞
- `FISH` - –†—ã–±–∞
- `RABBIT` - –ö—Ä–æ–ª–∏–∫
- `HAMSTER` - –•–æ–º—è–∫
- `OTHER` - –î—Ä—É–≥–æ–µ

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ—à–∏–±–∫–∏:
- `404 NOT FOUND` - –í–ª–∞–¥–µ–ª–µ—Ü –∏–ª–∏ –ø–∏—Ç–æ–º–µ—Ü –Ω–µ –Ω–∞–π–¥–µ–Ω
- `409 CONFLICT` - Email —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `400 BAD REQUEST` - –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IDE —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- Lombok (–Ω—É–∂–µ–Ω –ø–ª–∞–≥–∏–Ω –¥–ª—è IDE)
- MapStruct (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∞–ø–ø–µ—Ä–æ–≤)

## Docker

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Docker. –°–º. [DOCKER.md](DOCKER.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker (–≤–µ—Å—å —Å—Ç–µ–∫):**
```bash
docker-compose up -d
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç:
- PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 5433
- Spring Boot API –Ω–∞ –ø–æ—Ä—Ç—É 8081
- React Frontend –Ω–∞ –ø–æ—Ä—Ç—É 3000

**–î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é:**
- Frontend: http://localhost:3000
- Backend API: http://localhost:8081/api
- Swagger UI: http://localhost:8081/swagger-ui.html

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

